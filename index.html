<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>D3 Prototyping</title>
    <!--<link href="css/timeline.css" rel="stylesheet" type="text/css"/>-->
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
    <script src="build/wlp-timeline.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css"/>
    <link href="build/wlp-timeline.css" rel="stylesheet" type="text/css"/>
</head>

<body>
<div id="rootdiv"></div>
</body>

<script type="text/javascript">

    function randomDate(start, end) {
        return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
    }

    wlp_timeline.drawTimeline("#rootdiv", 900);

    // random dates
    //    var dates = [];
    //    for (var i = 0; i < 10; i++) {
    //        dates.push(randomDate(new Date(2016, 0, 1), new Date()));
    //    }

    d3.json("test/_data/tweets_1.json", function (error, data) {
        let dates = data.filter(function(d) {
            return d["text"].indexOf('switched ON:') !== -1;
        });
        dates = dates.map(function(d) {
            return new Date(d["datetime"]);
        });
        wlp_timeline.addData(dates);
    });

    //    window.onresize = function() {
    //        wlp_timeline.resizeTimeline(400);
    //    }


</script>

</html>